<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">

<script>
    (function(){
        if(''){
            if (prompt('请输入文章密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>


  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.5.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.5.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=6.5.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.5.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.5.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.5.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="数据库、JDBC、Java异常">
<meta property="og:type" content="article">
<meta property="og:title" content="2018-12-19">
<meta property="og:url" content="https://love-h.github.io/2018/12/19/2018-12-19/index.html">
<meta property="og:site_name" content="LH">
<meta property="og:description" content="数据库、JDBC、Java异常">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/3327abd2767e495d89d09973c3a72e64/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/1f74009e5e864f9e9ff5be5bba1fcd53/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/d6f81b3de69944f48d8be48e5bdf7075/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/cc956f87f73e4c898c4665981d32a9ba/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/584859855b0f4ebb800b4d7897154279/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/1fdb89ca975c4501876590615e4eff50/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/d4e3734e62934020bc027489e5741efd/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/a9ca0c193944418986d78512f222fa15/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/d3ec7a889ba249e9be6a6b68cda21477/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/ecf88219eb784008ba0e89bb7c22cab8/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/2f40ddb72bb947f98dfb04fd66ba6e43/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/0d3e9a978f0f41848b3ddc4910f86b0a/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/66ab0373fb8e418e9a10f9567bf54351/clipboard.png">
<meta property="og:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/78295bf60e484233a817b868ad9b4b26/clipboard.png">
<meta property="og:updated_time" content="2018-12-19T15:04:33.062Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2018-12-19">
<meta name="twitter:description" content="数据库、JDBC、Java异常">
<meta name="twitter:image" content="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/3327abd2767e495d89d09973c3a72e64/clipboard.png">



  <link rel="alternate" href="/atom.xml" title="LH" type="application/atom+xml">




  <link rel="canonical" href="https://love-h.github.io/2018/12/19/2018-12-19/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>2018-12-19 | LH</title>
  











  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">
  
  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

	<a href="https://github.com/Love-H"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
	
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">LH</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>猪仔往事</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索本站内容</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://love-h.github.io/2018/12/19/2018-12-19/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="猪仔">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LH">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">2018-12-19
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-19 23:02:52 / 修改时间：23:04:33" itemprop="dateCreated datePublished" datetime="2018-12-19T23:02:52+08:00">2018-12-19</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-eye"></i>
             热度： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>℃
            </span>
          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">2.1k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">2 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote class="blockquote-center"><p>数据库、JDBC、Java异常</p>
</blockquote>
<a id="more"></a>
<p>JDBK连接数据库时，发现本地电脑中的jdk没有老师所给教程中的tools.jar</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/3327abd2767e495d89d09973c3a72e64/clipboard.png" alt="img"></p>
<p>便google了下，一开始以为搜到的答案是安装JDK时，jdk 和 jre 安装在了同一文件夹里，应当分开安装，即：</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/1f74009e5e864f9e9ff5be5bba1fcd53/clipboard.png" alt="img"></p>
<p>可后来想起，我在安装时根本就没有安装jre，何来的覆盖？</p>
<p>接着又搜到——jdk 10.0.2 经常会这样子，丢失这两个包</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/d6f81b3de69944f48d8be48e5bdf7075/clipboard.png" alt="img"></p>
<p>正当我在准备安装 jdk 8 时，猛然发现</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/cc956f87f73e4c898c4665981d32a9ba/clipboard.png" alt="img"></p>
<p><a href="https://www.cnblogs.com/echomyecho/p/3334617.html" target="_blank" rel="noopener">Java中设置classpath、path、JAVA_HOME的作用</a></p>
<p><a href="https://www.cnblogs.com/echomyecho/p/3334617.html" target="_blank" rel="noopener">https://www.cnblogs.com/echomyecho/p/3334617.html</a></p>
<p>新版JDK10安装</p>
<p><a href="https://www.cnblogs.com/kittytiger/p/9526904.html" target="_blank" rel="noopener">https://www.cnblogs.com/kittytiger/p/9526904.html</a></p>
<p>JDK自定义路径</p>
<p><a href="https://blog.csdn.net/mmmgdzl/article/details/80291940" target="_blank" rel="noopener">https://blog.csdn.net/mmmgdzl/article/details/80291940</a></p>
<p>执行引入外部jar包的类的方法</p>
<p><a href="https://www.cnblogs.com/hapday/p/6431927.html" target="_blank" rel="noopener">https://www.cnblogs.com/hapday/p/6431927.html</a></p>
<p><a href="https://www.cnblogs.com/zuochanzi/p/9251633.html" target="_blank" rel="noopener">win10系统配置jdk环境不能用%JAVA_HOME% 代替目录</a></p>
<p>eclipse</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/584859855b0f4ebb800b4d7897154279/clipboard.png" alt="img"></p>
<p>意思是说你现在创建了一个Java工程，提示你是不是使用Java 视图来替换当前的视图？复选框是将你这次选择作为默认选项，下次也这样选。你现在的是MyEclipse Java Enterprise视图。换不换无所谓。Java视图能看的窗口组件会比MyEclipse Java Enterprise视图少一点。建议点否保持原样</p>
<p>module-info.java</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/1fdb89ca975c4501876590615e4eff50/clipboard.png" alt="img"></p>
<p>不需要模块的可以不选</p>
<p>在连接成功时，却有如下警告</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/d4e3734e62934020bc027489e5741efd/clipboard.png" alt="img"></p>
<p>Wed Dec 19 21:21:41 CST 2018 WARN: Establishing SSL connection without server’s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn’t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to ‘false’. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.</p>
<p>根据其提示信息及google，应该是Mysql数据库的SSL连接问题，是在MySQL 5.5.45+, 5.6.26+ and 5.7.6+ 版本才会出现该问题，解决办法也在警告中给出了，即：</p>
<p>1.在数据库连接的url中添加useSSL=false</p>
<p>2.url中添加useSSL=true，并且提供服务器的验证证书</p>
<p>一开始直接添加useSSL=false</p>
<p>后来运行后直接报错，便google了下，发现是如下操作</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/a9ca0c193944418986d78512f222fa15/clipboard.png" alt="img"></p>
<p>（就多加了个  ？ ，MMP）</p>
<p>也可以如下</p>
<p>在使用Java进行JDBC连接的时候，可以在Properties对象中设置useSSL的值为false，但是和写在链接中是一样的。比如</p>
<ol>
<li>Properties properties = new Properties();</li>
<li>properties.setProperty(“user”, “root”);</li>
<li>properties.setProperty(“password”, “milos23);</li>
<li>properties.setProperty(“useSSL”, “false”);</li>
<li>properties.setProperty(“autoReconnect”, “true”);</li>
<li>try (Connection conn = DriverManager.getConnection(connectionUrl, properties)) {</li>
<li>​    …</li>
<li>} catch (SQLException e) {</li>
<li>​    …</li>
<li>}</li>
</ol>
<p>jdbk连接数据库</p>
<p>Mysql：<a href="https://www.runoob.com/java/java-mysql-connect.html" target="_blank" rel="noopener">https://www.runoob.com/java/java-mysql-connect.html</a></p>
<p>SQL：<a href="https://blog.csdn.net/lytwy123/article/details/80958738" target="_blank" rel="noopener">https://blog.csdn.net/lytwy123/article/details/80958738</a></p>
<p>Java异常抛出</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/d3ec7a889ba249e9be6a6b68cda21477/clipboard.png" alt="img"></p>
<p>没有抛出异常，导致无法判断是否出错</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/ecf88219eb784008ba0e89bb7c22cab8/clipboard.png" alt="img"></p>
<p>为什么做出异常处理后，仍旧报错？</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/2f40ddb72bb947f98dfb04fd66ba6e43/clipboard.png" alt="img"></p>
<p>因为没有做出具体处理方法</p>
<p>为什么Demo01中却又可以直接抛出即可？</p>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/0d3e9a978f0f41848b3ddc4910f86b0a/clipboard.png" alt="img"></p>
<p>因为它是在 main 里面</p>
<ul>
<li>try catch 处理异常</li>
</ul>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/66ab0373fb8e418e9a10f9567bf54351/clipboard.png" alt="img"></p>
<ul>
<li>throws Exception</li>
</ul>
<p><img src="file:///C:/Users/33174/AppData/Local/YNote/data/weixinobU7Vjn7DM_1HmFfEhjnUKG2vTLg/78295bf60e484233a817b868ad9b4b26/clipboard.png" alt="img"></p>

      
    </div>

    

    
    
    
	
	<div>
    
    <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束 <i class="fa fa-paw"></i> 感谢老铁捧场-------------</div>
    
</div>

    
	</div>

	<div>
      
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

  <!-- JS庫 sweetalert 可修改路徑 -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p><span>本文标题:</span><a href="/2018/12/19/2018-12-19/">2018-12-19</a></p>
  <p><span>文章作者:</span><a href="/" title="访问 猪仔 的个人博客">猪仔</a></p>
  <p><span>发布时间:</span>2018年12月19日 - 23:12</p>
  <p><span>最后更新:</span>2018年12月19日 - 23:12</p>
  <p><span>原始链接:</span><a href="/2018/12/19/2018-12-19/" title="2018-12-19">https://love-h.github.io/2018/12/19/2018-12-19/</a>
    <span class="copy-path" title="点击复制链接"><i class="fa fa-clipboard" data-clipboard-text="https://love-h.github.io/2018/12/19/2018-12-19/" aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者！</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
      $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({   
          title: "",   
          text: '复制成功',
          icon: "success", 
          showConfirmButton: true
          });
        });
    });  
</script>

      
	</div>
	
	
    

    
       
    
    

    

    <footer class="post-footer">
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div class="social_share">
            
            
               <div id="needsharebutton-postbottom">
                 <span class="btn">
                    <i class="fa fa-share-alt" aria-hidden="true"></i>
                 </span>
               </div>
            
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/12/19/Java面试教程视频/" rel="next" title="Java面试教程视频">
                <i class="fa fa-chevron-left"></i> Java面试教程视频
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/12/21/Workbench中文字体显示不全/" rel="prev" title="Workbench中文字体显示不全">
                Workbench中文字体显示不全 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
  <div id="gitalk-container"></div>
	
  
  
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="猪仔">
            
              <p class="site-author-name" itemprop="name">猪仔</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">53</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">9</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">39</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Love-H" title="GitHub &rarr; https://github.com/Love-H" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://www.jianshu.com/u/981c6b0818d3" title="简书 &rarr; https://www.jianshu.com/u/981c6b0818d3" rel="noopener" target="_blank"><i class="fa fa-fw fa-book"></i>简书</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://me.csdn.net/weixin_40715916" title="CSDN &rarr; https://me.csdn.net/weixin_40715916" rel="noopener" target="_blank"><i class="fa fa-fw fa-copyright"></i>CSDN</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://juejin.im/user/5b4434a96fb9a04fb016bcc1" title="掘金 &rarr; https://juejin.im/user/5b4434a96fb9a04fb016bcc1" rel="noopener" target="_blank"><i class="fa fa-fw fa-spinner"></i>掘金</a>
                </span>
              
            </div>
          

		  <!-- ���ֲ����� -->
		  <div>
			<br>
			
			<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=27896818&auto=1&height=66"></iframe>
			
			<br>
		  </div>
		  
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友情链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://hellotong.ml" title="https://hellotong.ml" rel="noopener" target="_blank">Mr.Tong</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="/luxiangqiang.我爱你" title="luxiangqiang.我爱你">Mr.Lu</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">猪仔</span>

  
    
	<br>
	<div class="powered-by">
	<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
	<span>你是加入我们的第<span id="busuanzi_value_site_uv"></span>个小伙伴</span>
	</span></div>

	
	<span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">博客全站总字数：</span>
    
    <span title="博客全站总字数">119k</span>
  

  
</div>





        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    
	
    

    
  </div>
	
	
  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
      
  
  <script type="text/javascript" color="81,195,50" opacity="0.5" zindex="-1" count="110" src="/lib/canvas-nest/canvas-nest.min.js"></script>













  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.5.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.5.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.5.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.5.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.5.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.5.0"></script>



  



  










  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
   
   <script src="/js/src/md5.min.js"></script>
   
   <script type="text/javascript">
        var gitalk = new Gitalk({
          clientID: '5ad88be32bf098aa0eb2',
          clientSecret: '2161eac2c688b052130cfd59295ee2380f450399',
          repo: 'Gitalk',
          owner: 'Love-H',
          admin: ['Love-H'],
		  
          id: md5(location.pathname),
		  
          distractionFreeMode: 'true'
        })
        gitalk.render('gitalk-container')           
       </script>

  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  
  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "horizontal";
      
          flOptions.position = "middleRight";
      
          flOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>

  

  

  

  

  

  

  


<!-- 頁面點擊小紅心 -->  
<script type="text/javascript" src="/js/src/clicklove.js"></script>

  
</body>
</html>
